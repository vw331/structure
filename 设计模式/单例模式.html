<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>单例模式</title>
</head>
<body>
	
	<script>
		
		const Singleton = (function() {
		    let _instance = null        // 存储单例
		    
		    const Singleton = function() {
		        if (_instance) return _instance     // 判断是否已有单例
		        _instance = this
		        this.init()                         // 初始化操作
		        return _instance
		    }
		    
		    Singleton.prototype.init = function() {
		        this.foo = 'Singleton Pattern'
		    }
		    
		    Singleton.getInstance = function() {
		        if (_instance) return _instance
		        _instance = new Singleton()
		        return _instance
		    }
		    
		    return Singleton
		})()
		
		const s1 = new Singleton()
		const s2 = new Singleton()
		const s3 = Singleton.getInstance()

		console.log( s1 === s2 )	
		console.log( s1 === s3 )		
	</script>
</body>
</html>