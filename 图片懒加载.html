<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		.container > div {
			height: 300px;
			border: 1px solid #333333;
		}
	</style>
</head>
<body>
	<div class="container">
		<div data-index=1>1</div>
		<div data-index=2>2</div>
		<div data-index=3>3</div>
		<div data-index=4>4</div>
		<div data-index=5>5</div>
		<div data-index=6>6</div>
		<div data-index=7>7</div>
		<div data-index=8>8</div>
		<div data-index=9>9</div>
		<div data-index=10>10</div>
		<div data-index=11>11</div>
		<div data-index=12>12</div>
		<div data-index=13>13</div>
		<div data-index=14>14</div>
		<div data-index=15>15</div>
		<div data-index=16>16</div>
		<div data-index=17>17</div>
		<div data-index=18>18</div>
		<div data-index=19>19</div>
		<div data-index=20>20</div>
	</div>
	<script>
		
		function isVisible(el) {
			const position = el.getBoundsClientRect()
			const screen = document.documentElement.clientHeight
			const { top, bottom } = position
			if( top > 0 && top < screen) {
				return true
			}
			if( bottom > 0 && bottom < screen) {
				return true
			}
		}

		function imageLazyLoad() {
			const images = document.querySelectorAll('image')
			for(let img of images) {
				const realSrc = img.dataset.src 
				if (!realSrc) continue
				if (isVisible(img)) {
			      img.src = realSrc
			      img.dataset.src = ''
			    }
			}
		}

		window.addEventListener('load', imageLazyLoad)
		window.addEventListener('scroll', imageLazyLoad)

	</script>
</body>
</html>