<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>aop</title>
</head>
<body>
	<script>
		Function.prototype.beforeAop = function(fn) {
			const _this = this 

			return function() {
				fn.apply(this, arguments)
				return _this.apply(this, arguments)
			}
		}

		function log(msg) {
			console.log('msg:' + msg)
		}

		log = log.beforeAop(() => {
			console.log('--before print msg---')
		})

		log()
	</script>
</body>
</html>